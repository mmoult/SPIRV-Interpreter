{
    "payload" : [ 0.0, 0.0, 0.0 ],
    "ray" : {
        "flags" : 16,
        "cullMask" : 255,
        "origin" : [ 0.0, 0.0, 25.0 ],
        "direction" : [ -0.057, 0.094, -1.0 ],
        "tMin" : 0.0,
        "tMax" : 1000.0
    },
    "accelerationStructure" : {
        "acceleration_structures" : [
            {
                "is_tlas" : true,
                "box_nodes" : [
                    {
                        "min_bounds" : [ -10.0, -10.0, -10.0 ],
                        "max_bounds" : [ 10.0, 10.0, 10.0 ],
                        "children_indices" : [ [ 1, 0 ], [ 1, 1 ], [ 1, 2 ], [ 1, 3 ], [ 1, 4 ], [ 1, 5 ], [ 1, 6 ] ]
                    }
                ],
                "instance_nodes" : [
                    { // Ceiling
                        "object_to_world_matrix" : [
                            [ 1.0, 0.0, 0.0, 0.0 ],
                            [ 0.0, 0.0, -1.0, 10.0 ],
                            [ 0.0, 1.0, 0.0, 0.0 ]
                        ],
                        "id" : 0,
                        "custom_index" : 0,
                        "mask" : 255,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1
                    },
                    { // Floor
                        "object_to_world_matrix" : [
                            [ 1.0, 0.0, 0.0, 0.0 ],
                            [ 0.0, 0.0, 1.0, -10.0 ],
                            [ 0.0, -1.0, 0.0, 0.0 ]
                        ],
                        "id" : 1,
                        "custom_index" : 1,
                        "mask" : 255,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1
                    },
                    { // Red wall
                        "object_to_world_matrix" : [
                            [ 0.0, 0.0, 1.0, -10.0 ],
                            [ 0.0, 1.0, 0.0, 0.0 ],
                            [ -1.0, 0.0, 0.0, 0.0 ]
                        ],
                        "id" : 2,
                        "custom_index" : 2,
                        "mask" : 255,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1
                    },
                    { // Green wall
                        "object_to_world_matrix" : [
                            [ 0.0, 0.0, -1.0, 10.0 ],
                            [ 0.0, 1.0, 0.0, 0.0 ],
                            [ 1.0, 0.0, 0.0, 0.0 ]
                        ],
                        "id" : 3,
                        "custom_index" : 3,
                        "mask" : 255,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1
                    },
                    { // Blue wall
                        "object_to_world_matrix" : [
                            [ -1.0, 0.0, 0.0, 0.0 ],
                            [ 0.0, 1.0, 0.0, 0.0 ],
                            [ 0.0, 0.0, -1.0, 10.0 ]
                        ],
                        "id" : 4,
                        "custom_index" : 4,
                        "mask" : 255,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1  // [0, 1]
                    },
                    { // Orange wall
                        "object_to_world_matrix" : [
                            [ 1.0, 0.0, 0.0, 0.0 ],
                            [ 0.0, 1.0, 0.0, 0.0 ],
                            [ 0.0, 0.0, 1.0, -10.0 ]
                        ],
                        "id" : 5,
                        "custom_index" : 5,
                        "mask" : 253,
                        "shader_binding_table_record_offset" : 0,
                        "acceleration_structure_index" : 1  // [0, 1]
                    },
                    { // Reflective sphere
                        "object_to_world_matrix" : [
                            [ 0.1, 0.0, 0.0, -3.0 ],
                            [ 0.0, 0.1, 0.0, -5.0 ],
                            [ 0.0, 0.0, 0.1, 0.0 ]
                        ],
                        "id" : 6,
                        "custom_index" : 6,
                        "mask" : 254,
                        "shader_binding_table_record_offset" : 1,
                        "acceleration_structure_index" : 2 // [3, 0]
                    }
                ],
                "triangle_nodes" : [],
                "procedural_nodes" : []
            },
            {
                "is_tlas" : false,
                "box_nodes" : [
                    {
                        "min_bounds" : [ -10.0, -10.0, -0.1 ],
                        "max_bounds" : [ 10.0, 10.0, 0.1 ],
                        "children_indices" : [ [ 2, 0 ], [ 2, 1 ] ]
                    }
                ],
                "instance_nodes" : [],
                "triangle_nodes" : [
                    {
                        "geometry_index" : 0,
                        "primitive_index" : 0,
                        "opaque" : true,
                        "vertices" : [ [ -10.0, -10.0, 0.0 ], [ 10.0, -10.0, 0.0 ], [ -10.0, 10.0, 0.0 ] ],
                        "indices" : [ 0, 1, 2 ]
                    },
                    {
                        "geometry_index" : 0,
                        "primitive_index" : 1,
                        "opaque" : true,
                        "vertices" : [ [ -10.0, 10.0, 0.0 ], [ 10.0, -10.0, 0.0 ], [ 10.0, 10.0, 0.0 ] ],
                        "indices" : [ 0, 1, 2 ]
                    }
                ],
                "procedural_nodes" : []
            },
            {
                "isTLAS" : false,
                "box_nodes" : [],
                "instance_nodes" : [],
                "triangle_nodes" : [],
                "procedural_nodes" : [
                    {
                        "geometry_index" : 0,
                        "primitive_index" : 0,
                        "opaque" : true,
                        "min_bounds" : [ -50.0, -50.0, -50.0 ],
                        "max_bounds" : [ 50.0, 50.0, 50.0 ]
                    }
                ]
            }
        ],
        "shader_binding_table" : {
            "ray_gen_shader_records" : [
                {
                    "shader": "./ray_generation.spv",
                    "input": "./in.json"
                }
            ],
            "miss_shader_records" : [
                {
                    "shader" : "./shaders/miss_sky.spv",
                    "input": ""
                },
                {
                    "shader" : "./shaders/miss_shadow.spv",
                    "input": ""
                }
            ],
            "hit_group_shader_records" : [
                {
                    "inputs" : [ "./inputs/wall_rchit-in.json", "./inputs/wall_rahit-in.json", "" ],
                    "shader" : [ "./shaders/wall_rchit.spv", "./shaders/wall_rahit.spv", "" ],
                    "buffer" : []
                },
                {
                    "inputs" : [ "./inputs/sphere_rchit-in.json", "./inputs/sphere_rahit-in.json", "./inputs/sphere_intersection-in.json" ],
                    "shader" : [ "./shaders/sphere_rchit.spv", "./shaders/sphere_rahit.spv", "./shaders/sphere_intersection.spv" ],
                    "buffer" : [ "./sphere_info-in.json" ]
                }
            ],
            "callable_shader_records" : []
        }
    }
}